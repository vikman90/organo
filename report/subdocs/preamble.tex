%cargar antes los paquetes de matemáticas para evitar los errores de renumenración de ecuaciones
%http://www.tex.ac.uk/cgi-bin/texfaq2html?label=hyperdupdest

\usepackage{amssymb,amsfonts,amsmath}

%Muchos ejemplos Matemáticas
%http://es.wikipedia.org/wiki/Ayuda:Usando_TeX

%Paquete para flechas grandes usadas en fórmulas químicas
%http://www.ctan.org/tex-archive/macros/latex/contrib/chemarrow/
\usepackage{chemarrow}

%Comillas con babel spanish.
%simplemente para empesar las comillas pones `` (dos tildes) y para terminar '' (dos comillas simples).


%Para el espaciado entre secciones:
%http://www.brl.ntt.co.jp/people/leroux/latex_tips-e.htm


\pdfminorversion=6
\pdfobjcompresslevel=3
\pdfcompresslevel=9



%Posibles errores: http://en.wikibooks.org/wiki/LaTeX/Hyperlinks
\usepackage{hyperref}
\hypersetup{
    %bookmarks=true,% show bookmarks bar?
    bookmarksnumbered=true,
  pdfstartview={FitH},
        %- FitH : Fit whole width of page
        %- FitV : Fit whole height of page
        %- FitB : Fit whole "Bounding Box" page
        %- FitBH: Fit whole width of "Bounding Box" of page
        %- FitBV: Fit whole height of "Bounding Box" of page
  pdfpagemode=UseOutlines,
    pdftitle={Simulación de circuitos basada en la implementación de modelos avanzados de dispositivos y sensores electrónicos en Verilog-A},    % title
    pdfauthor={Andrés Roldán Aranda},     % author
    pdfsubject={Documento Electrónico Tesis},   % subject of the document
    pdfkeywords={Verilog-A,MOSFET,DGMOSFET,Compact Model}, % list of keywords
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=blue,       % color of internal links
    citecolor=green,        % color of links to bibliography
    filecolor=black,       % color of file links
    urlcolor=green         % color of external links
}
% Es importante tener en cuenta que las páginas tienen una numeración y que no debe repetirse, por eso el principio del documento empieza por a,b,... después el índice lleva numeración romana y después empieza la árabe. Si no se hace así, el paquete hyperrref da un Warning molesto:
%  ! pdfTeX warning (ext4): destination with the same
%  identifier (name{page.1}) has been already used,
%  duplicate ignored
%  http://en.wikibooks.org/wiki/LaTeX/Hyperlinks#Problems_with_Links_and_Pages
\usepackage[UTF8]{inputenc}  %Formato de caracteres en fichero .
\usepackage[spanish,english]{babel}


%%% Control the fonts and formatting used in the table of contents.
%\usepackage[titles]{tocloft}
%%% Aesthetic spacing redefines that look nicer to me than the defaults.
%\setlength{\cftbeforechapskip}{2ex}
%\setlength{\cftbeforesecskip}{0.5ex}
%%% Use Helvetica-Narrow Bold for Chapter entries
%\renewcommand{\cftchapfont}{%
  %\fontsize{9}{11}\usefont{OT1}{phv}{bc}{n}\selectfont
%}

%\singlespacing, \onehalfspacing, and \doublespacing: 
\usepackage[singlespacing]{setspace} % package para controlar el espacio entrelíneas
%\usepackage[onehalfspacing]{setspace} % package para controlar el espacio entrelíneas


\usepackage{sectsty} % Changing section headinds
           % tiene que ir antes de fancyhdr

\usepackage{fancyhdr}
\usepackage[Rejne]{fncychap}  %Para la numeración de capítulos
%\usepackage[Glenn]{fncychap}  %Para la numeración de capítulos
%\usepackage[Bjornstrup]{fncychap}  %Para la numeración de capítulos
%\usepackage[Conny]{fncychap}  %Para la numeración de capítulos
%\usepackage{fncychap}  %Para la numeración de capítulos

\usepackage{graphicx}
\DeclareGraphicsExtensions{.pdf,.png,.jpg,.gif}

\usepackage{float}

%% Nicer formatting of figure captions.
%ftp://ctan.tug.org/tex-archive/macros/latex/contrib/caption/caption-eng.pdf
\usepackage[skip=6pt,labelsep=endash,font=small,format=plain,labelfont={bf,up},textfont=it]{caption} 
%Necesario cargar antes CAPTION que subfig por un problema de interacición que dan ambos paquetes
% redefiniciones para cambiar "cuadro" por "tabla"
\addto\captionsspanish{%
\renewcommand\tablename{Tabla}
\renewcommand\listtablename{\'Indice de Tablas}} 



%Para poder utilizar \subfloat
% Ejemplo completo http://en.wikibooks.org/wiki/LaTeX/Floats,_Figures_and_Captions
\usepackage{subfig}

\usepackage{acronym}%


\usepackage{makeidx} %Para hacer el indice alfabético
\newcommand{\ii}[1]{{\it #1}} %Para poder usar: \index{gnat%}

\usepackage{tocbibind} 

% TABLAS
%Para las tablas con facilidad de centrado vertical
\usepackage{tabulary}
\usepackage{booktabs}
\usepackage{calc}
%Para poder rotar las tablas grandes
\usepackage{rotating}



%Para la Generación de Circuitos
\usepackage[siunitx]{circuitikz}
\usepackage{showexpl}
\usepackage{framed}


%Para rellenar las celdas de las tablas de color \usepackage[tables]{xcolor}
%pero se pone en la cabecera de DOCUMENT para que no de problemas de Clash o repetición
%_____________________________________________________________________________
% ---  Listado de colores disponibles
%AliceBlue
%AntiqueWhite
%Aqua
%Aquamarine
%Azure
%Beige
%Bisque
%Black
%BlanchedAlmond
%Blue
%BlueViolet
%Brown
%BurlyWood
%CadetBlue
%Chartreuse
%Chocolate
%Coral
%CornflowerBlue
%Cornsilk
%Crimson
%Cyan
%DarkBlue
%DarkCyan
%DarkGoldenrod
%DarkGray
%DarkGreen
%DarkGrey
%DarkKhaki
%DarkMagenta
%DarkOliveGreen
%DarkOrange
%DarkOrchid
%DarkRed
%DarkSalmon
%DarkSeaGreen
%DarkSlateBlue
%DarkSlateGray
%DarkSlateGrey
%DarkTurquoise
%DarkViolet
%DeepPink
%DeepSkyBlue
%DimGray
%DimGrey
%DodgerBlue
%FireBrick
%FloralWhite
%ForestGreen
%Fuchsia
%Gainsboro
%GhostWhite
%Gold
%Goldenrod
%Gray
%Green
%GreenYellow
%Grey
%Honeydew
%HotPink
%IndianRed
%Indigo
%Ivory
%Khaki
%Lavender
%LavenderBlush
%LawnGreen
%LemonChiffon
%LightBlue
%LightCoral
%LightCyan
%LightGoldenrod
%LightGoldenrodYellow
%LightGray
%LightGreen
%LightGrey
%LightPink
%LightSalmon
%LightSeaGreen
%LightSkyBlue
%LightSlateBlue
%LightSlateGray
%LightSlateGrey
%LightSteelBlue
%LightYellow
%Lime
%LimeGreen
%Linen
%Magenta
%Maroon
%MediumAquamarine
%MediumBlue
%MediumOrchid
%MediumPurple
%MediumSeaGreen
%MediumSlateBlue
%MediumSpringGreen
%MediumTurquoise
%MediumVioletRed
%MidnightBlue
%MintCream
%MistyRose
%Moccasin
%NavajoWhite
%Navy
%NavyBlue
%OldLace
%Olive
%OliveDrab
%Orange
%OrangeRed
%Orchid
%PaleGoldenrod
%PaleGreen
%PaleTurquoise
%PaleVioletRed
%PapayaWhip
%PeachPuff
%Peru
%Pink
%Plum
%PowderBlue
%Purple
%Red
%RosyBrown
%RoyalBlue
%SaddleBrown
%Salmon
%SandyBrown
%SeaGreen
%Seashell
%Sienna
%Silver
%SkyBlue
%SlateBlue
%SlateGray
%SlateGrey
%Snow
%SpringGreen
%SteelBlue
%Tan
%Teal
%Thistle
%Tomato
%Turquoise
%Violet
%VioletRed
%Wheat
%White
%WhiteSmoke
%Yellow
%YellowGreen

%__FIN   Colores  disponibles  ____________________________________________________
%_____________________________________________________________________________



% REferencias de Col
%http://en.wikibooks.org/wiki/LaTeX/Colors
%\usepackage[dvipsnames]{color}
\definecolor{gray97}{gray}{.97}
\definecolor{gray92}{gray}{.92}
\definecolor{gray90}{gray}{.90}
\definecolor{gray80}{gray}{.80}
\definecolor{gray75}{gray}{.75}
\definecolor{gray45}{gray}{.45}
\definecolor{darkgray}{rgb}{0.95,0.95,0.95}

\usepackage{listings}
\lstset{ 
   frame=Ltb,
     framerule=0pt,
     aboveskip=0.2cm,
   %
   abovecaptionskip=0.0cm,
     belowcaptionskip=-0.2cm,
   xleftmargin=2cm,
     %
   %framextopmargin=3pt,
     %framexbottommargin=3pt,
     %framexleftmargin=0.2cm,
     %framesep=0pt,
     rulesep=.4pt,
     backgroundcolor=\color{gray92},
     %backgroundcolor=\color{darkgray},
     rulesepcolor=\color{black},
     %
     stringstyle=\ttfamily,
     showstringspaces=false,
     commentstyle=\color{gray45},
     %
     captionpos=b, %Posición Inferior
     numberbychapter=true, %Numerado con capítulos
     %
     numbers=left,
     numbersep=30pt,
     numberstyle=\tiny,
     numberfirstline = false,
     breaklines=true,
     %
     showtabs=false,
     extendedchars=true,
     language=Verilog,
     inputencoding=ansinew,
     numbers=left,
     numberstyle=\tiny,
     stepnumber=1,
     numbersep=5pt,
     keywordstyle=\color{blue}\bfseries,%\emph,(Esto los subrraya)
     morekeywords={let,option,control,destroy foreach, altermod, print, echo,plot,endc,end,$limit, parameter,"pnjlim","fetlim",real,limexp,ddt,white,noise,`ifdef,`else,`endif,ddx,<+,analog,electrical,`define,aliasparam},
     tabsize=2,
   %Tamaño de Letra  
     basicstyle=\tiny,%\scriptsize}%\footnotesize}%\small}%, stringstyle=\ttfamily}
     breakindent=5pt,
     %
  %Caracteres para saltar a LATEX y poder introducir sintaxis de Latex dentro del Listing
    %escapechar=\%, 
  escapeinside={(*@}{@*)},
  extendedchars=true,
    inputencoding=utf8,
  %Para que con texto codificado en UTF detecte bien estos caracteres LATIN1. En caso de fichero ASNI en latin1 no hay problemas
  literate={ñ}{{\~{n}}}1 {Ñ}{{\~{N}}}1 {á}{{\'a}}1 {é}{{\'e}}1 {í}{{\'i}}1 {ó}{{\'o}}1 {ú}{{\'u}}1 {Á}{{\'A}}1 {É}{{\'E}}1 {Í}{{\'I}}1 {Ó}{{\'O}}1 {Ú}{{\'U}}1 {'}{{`}}1  {"}{{``}}1  {"}{{"}}1 
}  

\newcommand{\finESPICEOutput}{\end{lstlisting}\selectlanguage{spanish}}
  
\newcommand{\beginESPICEOutput}{\selectlanguage{english} \begin{lstlisting}[numbers=none, xleftmargin=2cm,backgroundcolor=\color{gray90},belowcaptionskip=-0.9cm]}



\renewcommand*{\lstlistingname}{Listado}  %Listado en vez de Listing
% Mimizar fragmentado de listados
\lstnewenvironment{listing}[1][]
   {\lstset{#1}\pagebreak[0]}{\pagebreak[0]}
\lstdefinestyle{consola}
   {basicstyle=\scriptsize\bf\ttfamily,
    backgroundcolor=\color{gray75},
   }
\lstdefinestyle{C}
   {language=C,
   }
 
 
 %Para que la numeración de las ecuaciones vaya con el nº de subsección
\numberwithin{equation}{section}
%\numberwithin{lstlisting}{section}
 
%Con esto consigo que las tildes graves del Verilog-A salgan correctamente.
\usepackage{upquote}
%para que salga las comilla grave en línea con el texto 


%Con la opción SANTIZE puedo meter texto matemático en los símbolos
%[xindy]para poder meter tildes en el name={}
%If you are also using the hyperref package, you must load the glossaries package after the hyperref package.
\usepackage[sanitize={symbol=false},acronym,toc]{glossaries}
%xindy

%Definición de listado de Símbolos, para que se listen en este listado es necesario hacer:
%\newglossaryentry{pi}{type=symbols,name={\ensuremath{\pi}},sort=pi,description={ratio of circumference of circle to its diameter}}
\newglossary{symbols}{sym}{sbl}{Lista de Símbolos}

\makeglossaries % Para hacer un glosario
\usepackage{glosario_acronimos} 

%Para poder hacer uso de los símbolos de LaseBeam....
%http://www.ctan.org/tex-archive/info/symbols/comprehensive/symbols-a4.pdf Página 74
\usepackage{marvosym}
\usepackage{bbding}  %Para \HandRight  \HandCuffRight   \PencilRightDown

\hoffset=-0.5cm
\oddsidemargin=0.5cm
\evensidemargin=0.cm
\textwidth=6.5in
%\headheight=15pt
\headheight=26pt
\headsep=30pt
\topmargin=-.5in
\textheight=8.8in
\footskip=50pt
\setcounter{tocdepth}{5}
\setcounter{secnumdepth}{5}
\fancypagestyle{plain}{\fancyhf{}
\fancyfoot[C]{Simulación de circuitos con modelos avanzados en Verilog-A.}
\fancyfoot[LE,RO]{\thepage}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0.5pt}}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE,RO]{\small{{Índice}}}
\fancyfoot[C]{Simulación de circuitos con modelos avanzados en Verilog-A.}
\fancyfoot[LE,RO]{\thepage}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0.5pt}
\fancypagestyle{biblio}{\fancyhf{}
\fancyfoot[C]{Simulación de circuitos con modelos avanzados en Verilog-A.}
\fancyfoot[LE,RO]{\thepage}
\fancyhead[LE,RO]{\small{Bibliografía}}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0.5pt}}

%Distancias entre párrafos.
\setlength{\parindent}{15pt}
\setlength{\parskip}{0.4cm}

    %* \tiny
    %* \scriptsize
    %* \footnotesize
    %* \small
    %* \normalsize (default)
    %* \large
    %* \Large (capital "L")
    %* \LARGE (all caps)
    %* \huge
    %* \Huge (capital "H")



\makeatletter
   \newenvironment{indentation}[3]%
   {\par\setlength{\parindent}{#3}
   \setlength{\leftmargin}{#1}       \setlength{\rightmargin}{#2}%
   \advance\linewidth -\leftmargin       \advance\linewidth -\rightmargin%
   \advance\@totalleftmargin\leftmargin  \@setpar{{\@@par}}%
   \parshape 1\@totalleftmargin \linewidth\ignorespaces}{\par}%
\makeatother 

%Necesarios para la conversion WORD LATEX

\usepackage{ulem}
%...
%\uline{something}  --> normal underlined text
%\uuline{something} --> double-underlined text
%\uwave{something}  --> wavy underline
%\sout{something}   --> delete text with line
%\xout{something}   --> delete text with //////.

%Comandos para indentar líneas
%\indent
%units: cm, em, ex, in, pc, pt, mm
 %cm Centimetres
 %em The width of the letter M in the current font
 %ex The height of the letter x in the current font
 %in Inches
 %pc Picas (1pc = 12pt)
 %pt Points (1in = 72.27pt)
 %mm Millimetres

\newcommand{\qindent}{\hspace{2em}}
\newcommand{\aindent}{\hspace{4em}}



% new LaTeX commands
\newcommand{\styleCircuitos}[1]{#1}
\newcommand{\styleCdigoFuenteSRC}[1]{{\tiny \texttt{#1}}}
\newcommand{\styleEstiloEpgrafeSinNegritaCar}[1]{{\footnotesize #1}}
\newcommand{\styleEstiloResultadosdeSPICESinCursiva}[1]{{\tiny \texttt{#1}}}
\newcommand{\styleFigurayTabla}[1]{{\footnotesize #1}}
\newcommand{\styleNormalIntermitente}[1]{#1}
\newcommand{\styleNormalparaindices}[1]{#1}
\newcommand{\styleReferences}[1]{#1}
\newcommand{\styleResultadosdeSPICE}[1]{{\indent \tiny \textit{\texttt{#1}}}}
\newcommand{\styleTextodocumentoCarCarCarCarCarCarCarCarCarCarCarCarCarCarCarCarCarCarCarCarCarCarCar}[1]{{\small #1}}
